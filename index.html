<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>InColor – 당신의 첫사랑은 무슨 색?</title>
<style>
  :root{
    --brand:#7b4dff; --accent:#ff6ea9; --ink:#232326; --sub:#6b6b76;
    --bg:#f7f6ff; --card:#ffffff; --line:#e9e7ff; --shadow:0 8px 20px rgba(0,0,0,.08);
  }
  *{box-sizing:border-box}
  body{margin:0; background:linear-gradient(135deg,#fff9fd,#f6f3ff); color:var(--ink);
       font-family: system-ui,-apple-system,"Segoe UI","Noto Sans KR",sans-serif; line-height:1.5;}
  .wrap{max-width:720px; padding:20px; margin:28px auto}
  h1{margin:0 0 8px; text-align:center; color:var(--brand)}
  .sub{margin:0 0 18px; text-align:center; color:var(--sub)}
  .card{background:var(--card); border:1px solid var(--line); border-radius:18px; padding:20px; box-shadow:var(--shadow)}
  .row{display:flex; gap:12px; flex-wrap:wrap}
  .btn{flex:1 1 240px; border:none; border-radius:14px; padding:14px 16px; cursor:pointer;
       font-weight:800; text-align:left;
       background:linear-gradient(180deg,#fff,#f7f3ff);
       box-shadow: inset 0 0 0 2px #eee, 0 8px 16px rgba(0,0,0,.05);
       transition:transform .05s ease, box-shadow .2s ease;}
  .btn:hover{transform:translateY(-1px); box-shadow: inset 0 0 0 2px #e6ddff, 0 12px 20px rgba(155,140,255,.18)}
  .btn-primary{background:var(--brand); color:#fff; box-shadow:none}
  .center{display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
  .progress{height:10px; background:#ece9ff; border-radius:999px; overflow:hidden; margin:6px 0 16px}
  .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--brand),#a58bff); transition:width .3s ease}
  .q-title{font-size:20px; font-weight:900; margin:6px 0 4px}
  .q-help{color:var(--sub); margin:0 0 14px; font-size:14px}
  .chip{width:110px; height:110px; border-radius:50%; margin:8px auto 10px; box-shadow: inset 0 0 0 6px rgba(255,255,255,.85), 0 10px 24px rgba(0,0,0,.15);}
  .tag{display:inline-block; padding:4px 10px; border-radius:999px; border:1px solid var(--line); color:var(--sub); font-size:13px; margin-right:6px}
  .hr{height:1px; background:var(--line); margin:18px 0}
  .hint{font-size:12px; color:var(--sub)}
</style>
</head>
<body>
  <div class="wrap">
    <h1>InColor</h1>
    <p class="sub">몇 가지 질문에 답하면 <b>당신의 첫사랑 색</b>이 나옵니다. (총 12색)</p>

    <!-- 질문/결과 카드 -->
    <div id="view" class="card">
      <!-- 진행 바 -->
      <div class="progress"><div id="bar" class="bar"></div></div>

      <!-- 질문 영역 -->
      <div id="qbox"></div>

      <!-- 결과 영역 -->
      <div id="result" style="display:none; text-align:center">
        <div id="chip" class="chip"></div>
        <h2 id="rtitle" style="margin:0 0 6px"></h2>
        <div id="rtags" style="margin-bottom:8px"></div>
        <p id="rdesc" style="margin:0 0 8px; color:#555"></p>
        <div class="center" style="margin-top:10px">
          <button id="copy" class="btn">결과 복사 📋</button>
          <button id="again" class="btn btn-primary">다시 하기 🔁</button>
        </div>
      </div>
    </div>

    <p class="hint" style="text-align:center; margin-top:10px">
      Tip: 선택이 어려우면 더 자주 떠오르는 장면을 기준으로 고르세요.
    </p>
  </div>

<script>
/* ---------- 12색 메타 ---------- */
const COLORS = {
  Red:      { hex:"#e53935", tags:["열정","강렬"], desc:"설렘이 불꽃처럼 번졌던 기억. 끌림과 직진이 컸던 첫사랑." },
  Pink:     { hex:"#ff6ea9", tags:["달콤","수줍음"], desc:"두근거림을 조심스레 숨기던 시절. 사소한 손짓도 오래 남았던 기억." },
  Orange:   { hex:"#ff8c42", tags:["활기","즐거움"], desc:"만나면 웃음이 먼저. 데이트가 소풍 같았던 밝은 온도의 사랑." },
  Yellow:   { hex:"#ffd23f", tags:["밝음","행복"], desc:"햇살 같은 미소와 가벼운 농담, 마음이 환해지는 동행." },
  Green:    { hex:"#43a047", tags:["안정","성장"], desc:"서로를 지지하며 차분히 자라난 관계. 편안함이 곧 설렘이었던 시기." },
  Mint:     { hex:"#2ec4b6", tags:["청량","신선"], desc:"첫 만남의 상쾌한 공기. 바람처럼 시원하고 맑았던 느낌." },
  Blue:     { hex:"#1e88e5", tags:["차분","평화"], desc:"파문 없이 잔잔히 스며드는 마음. 오래두고 곱씹어도 담백한 여운." },
  Navy:     { hex:"#2d3a64", tags:["깊이","그리움"], desc:"한 장 더 넘기고 싶은 긴 소설. 시간이 지나도 묵직한 그리움." },
  Purple:   { hex:"#8e24aa", tags:["신비","특별"], desc:"설명하기 어려운 우연과 기척. 특별히 다른 결의 만남." },
  Lavender: { hex:"#b57edc", tags:["섬세","포근"], desc:"거칠었던 하루를 부드럽게 감싸준 위로. 은은하게 남는 향처럼." },
  White:    { hex:"#ffffff", tags:["순수","시작"], desc:"모르는 게 더 많았던 초심의 시간. 흰 종이 같은 첫 페이지." },
  Black:    { hex:"#1a1a1a", tags:["비밀","이별"], desc:"끝내 담아두어야 했던 이야기. 미완이라 더 선명한 기억." }
};

/* ---------- 2지선다 질문 트리 ---------- */
const Q = [
  { id:"Q1",
    title:"첫사랑의 전체 분위기", help:"느낌에 가까운 쪽을 선택하세요.",
    a:{ text:"🔥 뜨겁고 설렘 가득", next:"Q2a" },
    b:{ text:"🍃 잔잔하고 포근",   next:"Q2b" }
  },

  // 뜨거운 쪽 → 강렬 그룹 / 차분 그룹
  { id:"Q2a",
    title:"감정의 강도는 어땠나요?", help:"강렬함 vs 차분함",
    a:{ text:"⚡ 불꽃처럼 강렬", next:"Q3a" },
    b:{ text:"🌙 차분하고 깊음", next:"Q3b" }
  },
  // 잔잔한 쪽 → 편안 그룹 / 섬세 그룹
  { id:"Q2b",
    title:"어떤 결이 더 가까웠나요?", help:"친구 같음 vs 은근한 울림",
    a:{ text:"🫶 포근히 지지하며 성장", next:"Q3c" },
    b:{ text:"🕯️ 조용히 마음을 울림",  next:"Q3d" }
  },

  // Q3a: Red/Orange/Pink
  { id:"Q3a",
    title:"가장 가까운 느낌을 골라주세요", help:"강렬 그룹(Red/Orange/Pink)",
    a:{ text:"❤️ 열정과 강렬함", result:"Red" },
    b:{ text:"🧡 즐겁고 밝은 에너지", next:"Q3a2" }
  },
  { id:"Q3a2",
    title:"한 번만 더! 더 가까운 쪽은?", help:"활기 vs 달콤",
    a:{ text:"🧡 활기·유쾌", result:"Orange" },
    b:{ text:"💗 달콤·수줍음", result:"Pink" }
  },

  // Q3b: Blue/Navy/Purple
  { id:"Q3b",
    title:"가장 가까운 느낌을 골라주세요", help:"차분 그룹(Blue/Navy/Purple)",
    a:{ text:"💙 차분하고 담백", result:"Blue" },
    b:{ text:"🌌 깊고 진중함",  next:"Q3b2" }
  },
  { id:"Q3b2",
    title:"한 번만 더! 더 가까운 쪽은?", help:"깊이 vs 신비",
    a:{ text:"🌊 깊이·그리움", result:"Navy" },
    b:{ text:"🔮 신비·특별",   result:"Purple" }
  },

  // Q3c: Green/Yellow/Mint
  { id:"Q3c",
    title:"가장 가까운 느낌을 골라주세요", help:"편안 그룹(Green/Yellow/Mint)",
    a:{ text:"🌿 안정과 상호 성장", result:"Green" },
    b:{ text:"💛 밝고 해맑은 웃음", next:"Q3c2" }
  },
  { id:"Q3c2",
    title:"한 번만 더! 더 가까운 쪽은?", help:"밝음 vs 청량",
    a:{ text:"💛 밝음·행복", result:"Yellow" },
    b:{ text:"🌱 청량·신선", result:"Mint" }
  },

  // Q3d: Lavender/White/Black
  { id:"Q3d",
    title:"가장 가까운 느낌을 골라주세요", help:"섬세 그룹(Lavender/White/Black)",
    a:{ text:"💜 섬세하고 포근", result:"Lavender" },
    b:{ text:"🤍 순수하고 깨끗", next:"Q3d2" }
  },
  { id:"Q3d2",
    title:"한 번만 더! 더 가까운 쪽은?", help:"순수 vs 미완",
    a:{ text:"🤍 순수한 시작", result:"White" },
    b:{ text:"🖤 미완의 여운", result:"Black" }
  }
];

/* ---------- 상태 & 요소 ---------- */
const $qbox   = document.getElementById("qbox");
const $bar    = document.getElementById("bar");
const $result = document.getElementById("result");
const $chip   = document.getElementById("chip");
const $rtitle = document.getElementById("rtitle");
const $rdesc  = document.getElementById("rdesc");
const $rtags  = document.getElementById("rtags");
const $copy   = document.getElementById("copy");
const $again  = document.getElementById("again");

let step = 0;

/* ---------- 렌더 ---------- */
function setProgress(s){
  const max = 4; // 최대 4클릭
  $bar.style.width = Math.min(100, Math.round((s/max)*100)) + "%";
}
function renderQuestion(id){
  $result.style.display = "none";
  const node = Q.find(n=>n.id===id);
  step++;
  setProgress(step);
  $qbox.innerHTML = `
    <div class="q-title">${node.title}</div>
    <div class="q-help">${node.help||""}</div>
    <div class="row">
      <button class="btn btn-primary" id="A">${node.a.text}</button>
      <button class="btn" id="B">${node.b.text}</button>
    </div>
  `;
  document.getElementById("A").onclick = () => handle(node.a);
  document.getElementById("B").onclick = () => handle(node.b);
}
function handle(choice){
  if(choice.result) showResult(choice.result);
  else renderQuestion(choice.next);
}
function showResult(name){
  const meta = COLORS[name];
  $qbox.innerHTML = "";
  $result.style.display = "block";
  $chip.style.background = meta.hex;
  $rtitle.innerHTML = `당신의 첫사랑 색은 <b style="color:${meta.hex}">${name}</b>`;
  $rdesc.textContent = meta.desc;
  $rtags.innerHTML = meta.tags.map(t=>`<span class="tag">${t}</span>`).join("");
  setProgress(4);
}
$copy.onclick = async ()=>{
  const text = `${$rtitle.textContent}\n의미: ${$rdesc.textContent}`;
  try{ await navigator.clipboard.writeText(text); alert("결과를 복사했어요!"); }
  catch{ alert("복사에 실패했어요. 수동으로 복사해주세요."); }
};
$again.onclick = ()=>{
  step = 0; setProgress(0); renderQuestion("Q1");
};

/* 시작 */
renderQuestion("Q1");
</script>
</body>
</html>
